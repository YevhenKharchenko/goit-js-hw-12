{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport bixOctagonSvg from './img/bi_x-octagon.svg';\n\nconst form = document.querySelector('.form');\nconst formInput = document.querySelector('.form-input');\nconst gallery = document.querySelector('.gallery');\nconst loaderAnimation = document.createElement('div');\nloaderAnimation.classList.add('loader');\n\nconst instanceOfLightbox = new simpleLightbox('li a', {\n  captionsData: 'alt',\n  captionClass: 'img-caption',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  form.after(loaderAnimation);\n\n  const inputQuery = formInput.value;\n  const userKey = '41829663-a3becd9e4f80ae5dbcbf223ac';\n  const searchParams = new URLSearchParams({\n    key: `${userKey}`,\n    q: `${inputQuery}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 30,\n  });\n\n  fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      } else {\n        return response.json();\n      }\n    })\n    .then(({ hits }) => {\n      if (!hits.length) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n          position: 'topRight',\n          color: '#EF4040',\n          messageColor: '#FAFAFB',\n          iconUrl: bixOctagonSvg,\n        });\n      }\n\n      const markup = hits\n        .map(\n          ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n          }) =>\n            `<li class=\"gallery-item\">\n              <a class=\"item-link\" href=\"${largeImageURL}\">\n                <img\n                  src=\"${webformatURL}\"\n                  alt=\"${tags}\"\n                  width=\"360\"\n                  height=\"200\"\n                />\n              </a>\n              <ul class=\"mini-list\">\n                <li class=\"mini-header\">\n                  <h3>Likes</h3>\n                  <p>${likes}</p>\n                </li>\n                <li class=\"mini-header\">\n                  <h3>Views</h3>\n                  <p>${views}</p>\n                </li>\n                <li class=\"mini-header\">\n                  <h3>Comments</h3>\n                  <p>${comments}</p>\n                </li>\n                <li class=\"mini-header\">\n                  <h3>Downloads</h3>\n                  <p>${downloads}</p>\n                </li>\n              </ul>\n            </li>`\n        )\n        .join('');\n\n      loaderAnimation.remove();\n      gallery.insertAdjacentHTML('beforeend', markup);\n      formInput.value = '';\n\n      instanceOfLightbox.refresh();\n    })\n    .catch(error => {\n      loaderAnimation.remove();\n      iziToast.show({\n        message: `${error}`,\n        position: 'topRight',\n        color: '#EF4040',\n        messageColor: '#FAFAFB',\n        iconUrl: '/img/bi_x-octagon.svg',\n      });\n      formInput.value = '';\n    });\n}\n"],"names":["bixOctagonSvg","form","formInput","gallery","loaderAnimation","instanceOfLightbox","simpleLightbox","onFormSubmit","e","inputQuery","userKey","searchParams","response","hits","iziToast","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","error"],"mappings":"6vBAAA,MAAeA,EAAA,kDCMTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAkB,SAAS,cAAc,KAAK,EACpDA,EAAgB,UAAU,IAAI,QAAQ,EAEtC,MAAMC,EAAqB,IAAIC,EAAe,OAAQ,CACpD,aAAc,MACd,aAAc,cACd,aAAc,GAChB,CAAC,EAEDL,EAAK,iBAAiB,SAAUM,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBL,EAAQ,UAAY,GACpBF,EAAK,MAAMG,CAAe,EAE1B,MAAMK,EAAaP,EAAU,MACvBQ,EAAU,qCACVC,EAAe,IAAI,gBAAgB,CACvC,IAAK,GAAGD,IACR,EAAG,GAAGD,IACN,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,MAAM,4BAA4BE,GAAc,EAC7C,KAAKC,GAAY,CAChB,GAAKA,EAAS,GAGZ,OAAOA,EAAS,OAFhB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAIvC,CAAK,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CACbA,EAAK,QACRC,EAAS,KAAK,CACZ,QACE,4EACF,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAASd,CACnB,CAAS,EAGH,MAAMe,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,2CAC+BL;AAAA;AAAA,yBAElBD;AAAA,yBACAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAQFC;AAAA;AAAA;AAAA;AAAA,uBAIAC;AAAA;AAAA;AAAA;AAAA,uBAIAC;AAAA;AAAA;AAAA;AAAA,uBAIAC;AAAA;AAAA;AAAA,kBAId,EACA,KAAK,EAAE,EAEVlB,EAAgB,OAAM,EACtBD,EAAQ,mBAAmB,YAAaY,CAAM,EAC9Cb,EAAU,MAAQ,GAElBG,EAAmB,QAAO,CAChC,CAAK,EACA,MAAMkB,GAAS,CACdnB,EAAgB,OAAM,EACtBU,EAAS,KAAK,CACZ,QAAS,GAAGS,IACZ,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAAS,uBACjB,CAAO,EACDrB,EAAU,MAAQ,EACxB,CAAK,CACL"}